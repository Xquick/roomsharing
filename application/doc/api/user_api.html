<!doctype html>

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2.0.5 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Mon, 28 Apr 2014 02:23:40 +0000">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>User_api (mojespolubydleni.cz)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Unknown</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../api/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../api/package-tree.html">Tree</a></li>
<li><a href="../overview-files.html">Files</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../todo-list.html">Todo</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../api\user_api.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">API\User_api</div>
<a href="../source/user_api.php.html#line3" class="location">user_api.php at line 3</a>

<h1>Class User_api</h1>

<pre class="tree">CI_Controller<br> └─<strong>User_api</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>User_api</strong><br>extends CI_Controller

</p>

<hr>

<table id="summary_constructor">
<tr><th colspan="2">Constructor Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__construct()">__construct</a>()</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#checkCurrentUser()">checkCurrentUser</a>((int) (userId), mixed userId)</p><p class="description">Function checkCurrentUserzkontroluje, zda přihlášený uživatel je ten, kterého předáváme v parametru.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getUserInfo()">getUserInfo</a>((int) (userId), mixed userId)</p><p class="description">Function getUserInfovrací JSON informace o uživateli (student, parametry jeho filtru, věk, osobní informace).
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getUserSettings()">getUserSettings</a>((int) (userId), mixed userId)</p><p class="description">Function getUserSettingsvrací JSON data nastavení filtru

<b> setting_id_pk </b>- ID nastavení
<b> user_id_fk </b>- ID uživatele
<b> name </b>- jméno filtrované položky
<b> type </b>- typ filtrované položky


<b>0</b>- int
<b>1</b>- char


<b> value_int </b>- integer hodnota dané filtrované položky
<b> value_char </b>- character hodnota dané filtrované položky

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getUserFollowedNum()">getUserFollowedNum</a>((int) (userId), mixed userId)</p><p class="description">Function getUserFollowedNumvrací počet kampaní, které uživatel momentálně sleduje (má ve sledovaných).</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getUserFollowersNum()">getUserFollowersNum</a>((int) (userId), mixed userId)</p><p class="description">Function getUserFollowersNumvrací počet uživatelů, kteří sledují kampaně daného uživatele, uvedeného jako parametr této funkce</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getUserId()">getUserId</a>()</p><p class="description">Function getUserIdvrací ID momentálně přihlášeného uživatele.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getActivity()">getActivity</a>()</p><p class="description">Function getActivityvrací JSON data 10 posledních uživatelských aktivit


<b> activity_id_pk </b>- ID aktivity v databázi
<b> ad_id_fk </b>- ID kampaně ke které se aktivita vztahuje
<b> user_id_fk </b>- ID uživatele, který aktivitu vytvořil
<b> activity_type </b>- typ aktivity (1-7)(1-komentář, 2-ohodnocení, 3-začal sledovat, 4-přestal sledovat, 5-vytvořil, 6-aktivoval, 7-deaktivoval, 8-editoval)
<b> activity_value_char </b>- extra popis k aktivitě
<b> activity_value_int </b>- extra hodnota k aktivitě
<b> time_inserted </b>- SATUM vytvoření aktivity

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getUserConversations()">getUserConversations</a>()</p><p class="description">Function getUserConversationsvrací JSON všech uživatelů, se kterými vedl aktuálně přihlášený uživatel konverzace.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getSimilarUsers()">getSimilarUsers</a>()</p><p class="description">Function getSimilarUsersvrací JSON podobné uživatele, na základě uživatelova aktuálního filtru, který má nastavený.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getMessageCount()">getMessageCount</a>()</p><p class="description">Function getMessageCountvrací JSON počet nových zpráv, které uživatel obdržel.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getMessages()">getMessages</a>((int) (conversationId), mixed conversationId)</p><p class="description">Function getMessages

<b> conversation_reply_id_pk </b> - ID odpovědi konverzace
<b> reply </b> - text odpovědi konverzace
<b> user_id_fk </b> - ID uživatele,který zprávu posílal
<b> ip </b> - IP adresa uživatele, který zprávu odesílal
<b> conversation_id_fk </b> - ID konverzace, do které zprávy patří (dotazovaná konverzace)
<b> time </b> - čas odelání zprávy
<b> status </b> - status zprávy


<b> 0 </b> -přečtená
<b> 1 </b> -nepřečtená



vrací JSON výpis zpráv dané konverzace</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#verifyLastUserConversation()">verifyLastUserConversation</a>((int) (conversationId), mixed conversationId)</p><p class="description">Function verifyLastUserConversationvrací potvrzení, zda uživatel, získávající patří do konverzace
možné použití v případě, kdy se uživatel pokouší získat konverzaci a my chceme ověřit, zda na to má nárok</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setConversationStatus()">setConversationStatus</a>((int) (conversationId), mixed conversationId)</p><p class="description">Function zeroOutMessageCountnastaví status konverzace
přijímá GET parametr "value", který může nabývat dvou hodnot (0, 1). </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getFollowedAds()">getFollowedAds</a>()</p><p class="description">Function getFollowedAdsvrací JSON data všech kampaní, které uživatel má ve sledovaných

<b> ad_id_pk </b> - ID kampaně
<b> user_id_fk </b> - ID uživatele, který kampaň vytvořil
<b> object_id_fk </b> - ID objektu, na který je kampaň vytvořena
<b> ad_title </b> - textovýtitulek kampaně
<b> ad_body </b> - textový popis kampaně
<b> ad_price </b> - cena kampaně
<b> active </b> - aktivní či neaktivní kampaň


<b> 0 </b> - neaktivní
<b> 1 </b> - aktivní


<b> rel_type_id_fk </b> -
<b> location_id_fk </b> - ID lokace objektu, na který je kampaň vytvořena
<b> floor </b> - patro, ve které se nachází objekt, na který je kampaň umístěna
<b> floor_area </b> - rozloha objektu
<b> reconstruction_date</b> - datum rekonstrukce objektu
<b> heat_type_id_fk </b> - ID typu topení

<b> 0 </b> - plynové
<b> 1 </b> - elektrické


<b> construction_type_id_fk </b> - ID typu konstrukce objektu

<b> 0 </b> - panelová
<b> 1 </b> - cihlová


<b> floor_count </b> - počet pater objektu
<b> pet </b> - možnost domácího zvířete v objektu

<b> 0 </b> - nesmí být
<b> 1 </b> - může být


<b> smoker </b> - možnost kouření v objektu

<b> 0 </b> - nesmí se kouřit
<b> 1 </b> - může se kouřit


<b> date_inserted </b> - datum vložení kampaně
<b> address </b> - neformátovaná adresa objektu
<b> country </b> - adresa - země
<b> locality </b> - adresa lokalita (Praha, Brno)
<b> neighborhood </b> - adresa - městská čtvrť (Dejvice, Vinohrady)
<b> postal_code </b> - adresa - PSČ
<b> postal_town </b> - adresa - městská část (Praha 6, Praha 2)
<b> route </b> - adresa - ulice
<b> street_number </b> - adresa - číslo domu
<b> sublocality </b> - adresa - podoblast (Praha 6, Praha 2)
<b> administrative_area_level_1 </b> - adresa - kraj
<b> administrative_area_level_2 </b> - adresa - okres
<b> premise </b> - adresa - orientační číslo
<b> establishment </b> - adresa - upřesnění typu budovy
<b> point_of_interest </b> - adresa - památka
<b> lat </b> - adresa - zeměpisná šířka
<b> lng </b> - adresa - zeměpisná délka

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getTmpRooms()">getTmpRooms</a>()</p><p class="description">Function getTmpRoomsvrací JSON data místností, které uživatel naposledy nastavil v tvorbě nového objektu a nedokončil tvorbu.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getTmpEquipment()">getTmpEquipment</a>()</p><p class="description">Function getTmpRoomsvrací JSON data vybavení, které uživatel naposledy nastavil v tvorbě nového objektu a nedokončil tvorbu.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getRoomTypes()">getRoomTypes</a>()</p><p class="description">Function getRoomTypesvrací JSON typy místností

<b> room_id_pk </b> - ID typu místnosti
<b> room_name </b> - název místnosti

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getHeatType()">getHeatType</a>()</p><p class="description">Function getHeatType

<b> room_id_pk </b> - ID typu topení
<b> room_name </b> - název topení

vrací JSON typy topení.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getConstructionType()">getConstructionType</a>()</p><p class="description">Function getConstructionType

<b> room_id_pk </b> - ID typu konstrukce
<b> room_name </b> - název konstrukce

vrací JSON typy konstrukcí objektů.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getEquipment()">getEquipment</a>()</p><p class="description">Function getEquipment

<b> room_id_pk </b> - ID typu vybavení
<b> room_name </b> - název vybavení

vrací JSON typy vybavení místností</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getFormattedFilter()">getFormattedFilter</a>()</p><p class="description">Function getFormattedFiltervrací JSON filtr uživatele pouze s hodnotami

<b> address </b>- adresa filtru
<b> price_from </b>- cena od
<b> price_to </b>- cena do

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getFilter()">getFilter</a>()</p><p class="description">Function getFiltervrací JSON kompletní filtr uživatele

<b> address </b>- adresa filtru
<b>  country </b>- země
<b> locality </b>- město (Praha, Hradec Králové, apod)
<b> sublocality </b>- užší lokalita, městská čtvrť (Praha 6, apod)
<b> postal_code </b>- PSČ
<b> route </b>- ulice
<b> price_from </b>- cena od
<b> price_to </b>- cena do

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getObjects()">getObjects</a>()</p><p class="description">Function getObjectsvrací JSON všechny objekty v databázy (byty, domy)

<b> object_id_pk </b>- ID objektu
<b>  location_id_fk </b>- ID lokality
<b> floor </b>- patro ve kterém se objekt případně nachází
<b> floor_area </b>- rozloha objektu v metrech čtverečných
<b> reconstruction_date </b>- datum rekonstrukce
<b> heat_type_id_fk </b> - ID typu topení


<b> 0 </b> - plynové
<b> 1 </b> - elektrické


<b> construction_type_id_fk </b> - ID typu konstrukce objektu

<b> 0 </b> - panelová
<b> 1 </b> - cihlová


<b> floor_count </b> - počet pater objektu
<b> pet </b> - možnost domácího zvířete v objektu

<b> 0 </b> - nesmí být
<b> 1 </b> - může být


<b> smoker </b> - možnost kouření v objektu

<b> 0 </b> - nesmí se kouřit
<b> 1 </b> - může se kouřit


<b> date_inserted </b>- datum vložení objektu do databáze

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getFilteredAds()">getFilteredAds</a>()</p><p class="description">Function getFilteredAdsvrací JSON všechny kampaně, které odpovídají uživatelově filtru

<b> ad_id_pk </b> - ID kampaně
<b> user_id_fk </b> - ID uživatele, který kampaň vytvořil
<b> object_id_fk </b> - ID objektu, na který je kampaň vytvořena
<b> ad_title </b> - textovýtitulek kampaně
<b> ad_body </b> - textový popis kampaně
<b> ad_price </b> - cena kampaně
<b> active </b> - aktivní či neaktivní kampaň


<b> 0 </b> - neaktivní
<b> 1 </b> - aktivní


<b> rel_type_id_fk </b> -
<b> location_id_fk </b> - ID lokace objektu, na který je kampaň vytvořena
<b> floor </b> - patro, ve které se nachází objekt, na který je kampaň umístěna
<b> floor_area </b> - rozloha objektu
<b> reconstruction_date</b> - datum rekonstrukce objektu
<b> heat_type_id_fk </b> - ID typu topení

<b> 0 </b> - plynové
<b> 1 </b> - elektrické


<b> construction_type_id_fk </b> - ID typu konstrukce objektu

<b> 0 </b> - panelová
<b> 1 </b> - cihlová


<b> floor_count </b> - počet pater objektu
<b> pet </b> - možnost domácího zvířete v objektu

<b> 0 </b> - nesmí být
<b> 1 </b> - může být


<b> smoker </b> - možnost kouření v objektu

<b> 0 </b> - nesmí se kouřit
<b> 1 </b> - může se kouřit


<b> date_inserted </b> - datum vložení kampaně
<b> address </b> - neformátovaná adresa objektu
<b> country </b> - adresa - země
<b> locality </b> - adresa lokalita (Praha, Brno)
<b> neighborhood </b> - adresa - městská čtvrť (Dejvice, Vinohrady)
<b> postal_code </b> - adresa - PSČ
<b> postal_town </b> - adresa - městská část (Praha 6, Praha 2)
<b> route </b> - adresa - ulice
<b> street_number </b> - adresa - číslo domu
<b> sublocality </b> - adresa - podoblast (Praha 6, Praha 2)
<b> administrative_area_level_1 </b> - adresa - kraj
<b> administrative_area_level_2 </b> - adresa - okres
<b> premise </b> - adresa - orientační číslo
<b> establishment </b> - adresa - upřesnění typu budovy
<b> point_of_interest </b> - adresa - památka
<b> lat </b> - adresa - zeměpisná šířka
<b> lng </b> - adresa - zeměpisná délka

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getUserObjects()">getUserObjects</a>()</p><p class="description">Function getUserObjectsvrací JSON všechny objekty, které patří uživateli.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#logout()">logout</a>()</p><p class="description">Function logoutodhlásí uživatele zrušením aktuální session.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#login()">login</a>()</p><p class="description">Function loginPřihlásí uživatele, vytvořením nové session s jeho údaji.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setFilter()">setFilter</a>()</p><p class="description">Function setFilterNastaví nový filtr uživatele na základě přijatých POST parametrů

POST<b> filter_area </b>- adresa
POST<b> filter_price_from </b>- cena od
POST<b> filter_price_to </b>- cena do

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#follow()">follow</a>((int) (adId), mixed adId)</p><p class="description">Function followAktuálnímu uživateli umístí danou kampaň do jeho sledovaných kampaní.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#unfollow()">unfollow</a>((int) (adId), mixed adId)</p><p class="description">Function unfollowAktuálnímu uživateli odebere danou kampaň z jeho sledovaných kampaní.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#saveObject()">saveObject</a>()</p><p class="description">Function saveObjectVytvoření nového objektu (dům, byt) ze zadaných GET parametrů

GET<b> object_address </b>- JSON adresy objektu (google formát adresy)
GET<b> object_equipment </b>- JSON vybavení objektu
GET<b> object_floor </b>- podlaží objektu (dům, byt)
GET<b> object_rooms </b>- JSON počet a typů místností
GET<b> object_reconstruction_date </b>- DATUM rekonstrukce bytu
GET<b> object_floor_count </b>- počet pater objektu (dům, byt)
GET<b> object_pet </b>- je povoleno domácí zvíře
GET<b> object_smoker </b>- je v objektu povoleno kouřit

při vytvoření objektu bere metoda v úvahu $_FILES globální proměnnou. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#editObject()">editObject</a>(mixed objectId)</p><p class="description">Function editObjectEditace existujícího objektu (dům, byt) podle zadaných GET parametrů

GET<b> object_equipment </b>- JSON vybavení objektu
GET<b> object_floor </b>- podlaží objektu (dům, byt)
GET<b> object_rooms </b>- JSON počet a typů místností
GET<b> object_reconstruction_date </b>- DATUM rekonstrukce bytu
GET<b> object_floor_count </b>- počet pater objektu (dům, byt)
GET<b> object_pet </b>- je povoleno domácí zvíře
GET<b> object_smoker </b>- je v objektu povoleno kouřit

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#saveTmpRooms()">saveTmpRooms</a>()</p><p class="description">Function saveTmpRoomsUloží dočasné počty a typy místností na základě POST parametru

 POST JSON <b>tmpRooms </b>- typy místností a jejich počty

Slouží při práci s formulářem k ukládání uživatelových dočasných dat (místností), před úplným uložením vytvářeného nebo editovaného objektu.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#saveTmpEquipment()">saveTmpEquipment</a>()</p><p class="description">Function saveTmpEquipmentUloží vybavení objektu v průběhu vytváření nového objektu na základě POST parametru

 POST JSON <b>tmpEquipment </b>- typy místností a jejich počty

Slouží při práci s formulářem k ukládání uživatelových dočasných dat (vybavení), před úplným uložením vytvářeného nebo editovaného objektu.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#removeTmpRoom()">removeTmpRoom</a>()</p><p class="description">Function removeTmpRoomOdstraní dočasný počet a typ dané místnosti na základě GET parametru

GET <b> roomId </b>- ID typu místnosti, který se má odstranit z uživatelova dočasného výběru

Slouží při práci s formulářem k editaci uživatelových dočasných dat, před úplným uložením vytvářeného nebo editovaného objektu.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#clearTmpRooms()">clearTmpRooms</a>()</p><p class="description">Function clearTmpRoomOdstraní dočasný počet a typ všech místností momentálně přihlášeného uživatele.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#clearTmpEquipment()">clearTmpEquipment</a>()</p><p class="description">Function clearTmpRoomOdstraní dočasné vybavení tvořeného objektu momentálně přihlášeného uživatele.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#removeTmpEquipment()">removeTmpEquipment</a>()</p><p class="description">Function removeTmpEquipmentOdstraní dočasný počet a typ dané místnosti na základě GET parametru

GET <b> roomId </b>- ID typu místnosti, který se má odstranit z uživatelova dočasného výběru

Slouží při práci s formulářem k editaci uživatelových dočasných dat, před úplným uložením vytvářeného nebo editovaného objektu.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#pairUserObject()">pairUserObject</a>()</p><p class="description">Function pairUserObjectSpáruje uživatele s již existujícím bytem na základě POST parametrů.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#sendMessage()">sendMessage</a>()</p><p class="description">Function sendMessageaktuální uživatel odešle zprávu cílovému uživateli na základě POST parametrů.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setMessageStatus()">setMessageStatus</a>()</p><p class="description">Function setMessageStatusNastaví status konverzace na základě GET parametrů

GET <b> conversation_id </b>- ID konverzace, které se má status nastavit
GET <b> status </b> - status zprávy (0,1)
0 - přečtená
1 - nepřečtená

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#unlinkObject()">unlinkObject</a>((int) (objectId), mixed objectId)</p><p class="description">Function unlinkObjectAktuálnímu uzivateli smaže propojení s daným objektem (byt, dům).</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#saveGallery()">saveGallery</a>()</p><p class="description">Function saveGalleryUloží záznam o nové galerii do databáze na základě GET parametru a vrrátí ID galerie.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#saveRoomPhoto()">saveRoomPhoto</a>()</p><p class="description">Function saveRoomPhotoUloží záznam o nové galerii do databáze na základě GET parametru a vrrátí ID galerie.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setFrontPhoto()">setFrontPhoto</a>()</p><p class="description">Function setFrontPhotoNastaví úvodní fotografii galerie na základě GET parametrů.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getObjectGallery()">getObjectGallery</a>((int) (galleryId), mixed galleryId)</p><p class="description">Function getObjectGalleryVrátí JSON data o galerii k objektu na základě vsupního parametru

<b> gallery_id_pk </b>- ID galerie
<b> front_photo_id_fk </b>- číslo fotografie, která je zvolená za úvodní ke galerii
<b> object_id_fk </b>- ID objektu, ke kterému galerie patří
<b> time_inserted </b>- DATETIME vytvoření galerie

</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getRoomPhotos()">getRoomPhotos</a>()</p><p class="description">Function getRoomPhotosVrátí JSON seznam fotografií patřících v objektu k dané místnosti uvedené v GET parametru.
</p></td>
</tr>
</table>

<h2 id="detail_method">Constructor Detail</h2>
<a href="../source/user_api.php.html#line5" class="location">user_api.php at line 5</a>

<h3 id="__construct()">__construct</h3>
<code class="signature">public  void <strong>__construct</strong>()</code>
<div class="details">
</div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<a href="../source/user_api.php.html#line18" class="location">user_api.php at line 18</a>

<h3 id="checkCurrentUser()">checkCurrentUser</h3>
<code class="signature">public  void <strong>checkCurrentUser</strong>((int) (userId), mixed userId)</code>
<div class="details">
<p>Function checkCurrentUser</p><p>zkontroluje, zda přihlášený uživatel je ten, kterého předáváme v parametru.</p><dl>
<dt>Parameters:</dt>
<dd>(userId) - ID kontrolovaného uživatele</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line38" class="location">user_api.php at line 38</a>

<h3 id="getUserInfo()">getUserInfo</h3>
<code class="signature">public  void <strong>getUserInfo</strong>((int) (userId), mixed userId)</code>
<div class="details">
<p>Function getUserInfo</p><p>vrací JSON informace o uživateli (student, parametry jeho filtru, věk, osobní informace).</p>
<ul>
<li><b> student </b>-</li>
<li><b> user_id_pk </b>-</li>
<li><b> "firstname </b>-</li>
<li><b> lastname </b>-</li>
</ul>
<p></p><dl>
<dt>Parameters:</dt>
<dd>(userId) - ID uživatele</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line64" class="location">user_api.php at line 64</a>

<h3 id="getUserSettings()">getUserSettings</h3>
<code class="signature">public  void <strong>getUserSettings</strong>((int) (userId), mixed userId)</code>
<div class="details">
<p>Function getUserSettings</p><p>vrací JSON data nastavení filtru</p>
<ul>
<li><b> setting_id_pk </b>- ID nastavení</li>
<li><b> user_id_fk </b>- ID uživatele</li>
<li><b> name </b>- jméno filtrované položky</li>
<li><b> type </b>- typ filtrované položky
</p>
<ul>
<li><b>0</b>- int</li>
<li><b>1</b>- char</li>
</ul>
<p></li>
<li><b> value_int </b>- integer hodnota dané filtrované položky</li>
<li><b> value_char </b>- character hodnota dané filtrované položky</li>
</ul>
<p></p><dl>
<dt>Parameters:</dt>
<dd>(userId) - ID uživatele</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line77" class="location">user_api.php at line 77</a>

<h3 id="getUserFollowedNum()">getUserFollowedNum</h3>
<code class="signature">public  void <strong>getUserFollowedNum</strong>((int) (userId), mixed userId)</code>
<div class="details">
<p>Function getUserFollowedNum</p><p>vrací počet kampaní, které uživatel momentálně sleduje (má ve sledovaných).</p><dl>
<dt>Parameters:</dt>
<dd>(userId) - ID uživatele</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line91" class="location">user_api.php at line 91</a>

<h3 id="getUserFollowersNum()">getUserFollowersNum</h3>
<code class="signature">public  void <strong>getUserFollowersNum</strong>((int) (userId), mixed userId)</code>
<div class="details">
<p>Function getUserFollowersNum</p><p>vrací počet uživatelů, kteří sledují kampaně daného uživatele, uvedeného jako parametr této funkce</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line104" class="location">user_api.php at line 104</a>

<h3 id="getUserId()">getUserId</h3>
<code class="signature">public  void <strong>getUserId</strong>()</code>
<div class="details">
<p>Function getUserId</p><p>vrací ID momentálně přihlášeného uživatele.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line126" class="location">user_api.php at line 126</a>

<h3 id="getActivity()">getActivity</h3>
<code class="signature">public  void <strong>getActivity</strong>()</code>
<div class="details">
<p>Function getActivity</p><p>vrací JSON data 10 posledních uživatelských aktivit
</p>
<ul>
<li><b> activity_id_pk </b>- ID aktivity v databázi
<li><b> ad_id_fk </b>- ID kampaně ke které se aktivita vztahuje
<li><b> user_id_fk </b>- ID uživatele, který aktivitu vytvořil
<li><b> activity_type </b>- typ aktivity (1-7)(1-komentář, 2-ohodnocení, 3-začal sledovat, 4-přestal sledovat, 5-vytvořil, 6-aktivoval, 7-deaktivoval, 8-editoval)
<li><b> activity_value_char </b>- extra popis k aktivitě
<li><b> activity_value_int </b>- extra hodnota k aktivitě
<li><b> time_inserted </b>- SATUM vytvoření aktivity
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line147" class="location">user_api.php at line 147</a>

<h3 id="getUserConversations()">getUserConversations</h3>
<code class="signature">public  void <strong>getUserConversations</strong>()</code>
<div class="details">
<p>Function getUserConversations</p><p>vrací JSON všech uživatelů, se kterými vedl aktuálně přihlášený uživatel konverzace.</p>
<ul>
<li><b> user_id_fk </b> - ID uživatele, se kterým je konverzace vedena</li>
<li><b> conversation_id_fk    </b> - ID konverzace</li>
<li><b> firstname </b> - křestní jméno uživatele, se kterým je konverzace vedena</li>
<li><b> lastname </b> - příjmení uživatele, se kterým je konverzace vedena</li>
<li><b> email </b> - email uživatele, se kterým je konverzace vedena</li>
<li><b> student </b> - informace o tom, zda je uživatel student</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line170" class="location">user_api.php at line 170</a>

<h3 id="getSimilarUsers()">getSimilarUsers</h3>
<code class="signature">public  void <strong>getSimilarUsers</strong>()</code>
<div class="details">
<p>Function getSimilarUsers</p><p>vrací JSON podobné uživatele, na základě uživatelova aktuálního filtru, který má nastavený.</p>
<ul>
<li><b> user_id_pk </b> - ID uživatele</li>
<li><b> firstname </b> - křestní jméno uživatele</li>
<li><b> lastname </b> - příjmení uživatele</li>
<li><b> email </b> - email uživatele</li>
<li><b> student </b> - informace o tom, zda je uživatel student</li>
<li><b> setting_id_pk </b> - ID nastavení uživatelova filtru</li>
<li><b> name </b> - název sublokality, na základě které mají uživatelé shodnu</li>
<li><b> value_char </b> - hodnota sublokality, na základě které mají uživatelé shodu (Praha 6, apod.)</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line184" class="location">user_api.php at line 184</a>

<h3 id="getMessageCount()">getMessageCount</h3>
<code class="signature">public  void <strong>getMessageCount</strong>()</code>
<div class="details">
<p>Function getMessageCount</p><p>vrací JSON počet nových zpráv, které uživatel obdržel.
Na indexu 0 je celkový počet nových zpráv
každý další index je ID uživatele, od kterého přišla zpráva</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line211" class="location">user_api.php at line 211</a>

<h3 id="getMessages()">getMessages</h3>
<code class="signature">public  void <strong>getMessages</strong>((int) (conversationId), mixed conversationId)</code>
<div class="details">
<p>Function getMessages</p>
<ul>
<li><b> conversation_reply_id_pk </b> - ID odpovědi konverzace</li>
<li><b> reply </b> - text odpovědi konverzace</li>
<li><b> user_id_fk </b> - ID uživatele,který zprávu posílal</li>
<li><b> ip </b> - IP adresa uživatele, který zprávu odesílal</li>
<li><b> conversation_id_fk </b> - ID konverzace, do které zprávy patří (dotazovaná konverzace)</li>
<li><b> time </b> - čas odelání zprávy</li>
<li><b> status </b> - status zprávy
</p>
<ul>
<li><b> 0 </b> -přečtená</li>
<li><b> 1 </b> -nepřečtená</li>
</ul>
<p></li>
</ul>
<p></p><p>vrací JSON výpis zpráv dané konverzace</p><dl>
<dt>Parameters:</dt>
<dd>(conversationId) - ID konverzace, ze které chceme dostat zprávy</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line225" class="location">user_api.php at line 225</a>

<h3 id="verifyLastUserConversation()">verifyLastUserConversation</h3>
<code class="signature">public  void <strong>verifyLastUserConversation</strong>((int) (conversationId), mixed conversationId)</code>
<div class="details">
<p>Function verifyLastUserConversation</p><p>vrací potvrzení, zda uživatel, získávající patří do konverzace
možné použití v případě, kdy se uživatel pokouší získat konverzaci a my chceme ověřit, zda na to má nárok</p><dl>
<dt>Parameters:</dt>
<dd>(conversationId) - ID konverzace, ze které chceme dostat zprávy</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line243" class="location">user_api.php at line 243</a>

<h3 id="setConversationStatus()">setConversationStatus</h3>
<code class="signature">public  void <strong>setConversationStatus</strong>((int) (conversationId), mixed conversationId)</code>
<div class="details">
<p>Function zeroOutMessageCount</p><p>nastaví status konverzace
přijímá GET parametr "value", který může nabývat dvou hodnot (0, 1). Hodnotu může vždy nastavit vždy uživatel,
který byl posledním  účastníkem konverzace</p>
<ul>
<li><b> 0 </b> - přečtená</li>
<li><b> 1 </b>- nepřečtená</li>
</ul>
<p></p><dl>
<dt>Parameters:</dt>
<dd>(conversationId) - ID konverzace, které nastavujeme status</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line318" class="location">user_api.php at line 318</a>

<h3 id="getFollowedAds()">getFollowedAds</h3>
<code class="signature">public  void <strong>getFollowedAds</strong>()</code>
<div class="details">
<p>Function getFollowedAds</p><p>vrací JSON data všech kampaní, které uživatel má ve sledovaných</p>
<ul>
<li><b> ad_id_pk </b> - ID kampaně</li>
<li><b> user_id_fk </b> - ID uživatele, který kampaň vytvořil</li>
<li><b> object_id_fk </b> - ID objektu, na který je kampaň vytvořena</li>
<li><b> ad_title </b> - textovýtitulek kampaně</li>
<li><b> ad_body </b> - textový popis kampaně</li>
<li><b> ad_price </b> - cena kampaně</li>
<li><b> active </b> - aktivní či neaktivní kampaň
</p>
<ul>
<li><b> 0 </b> - neaktivní</li>
<li><b> 1 </b> - aktivní</li>
</ul>
<p></li>
<li><b> rel_type_id_fk </b> -</li>
<li><b> location_id_fk </b> - ID lokace objektu, na který je kampaň vytvořena</li>
<li><b> floor </b> - patro, ve které se nachází objekt, na který je kampaň umístěna</li>
<li><b> floor_area </b> - rozloha objektu</li>
<li><b> reconstruction_date</b> - datum rekonstrukce objektu</li>
<li><b> heat_type_id_fk </b> - ID typu topení</p>
<ul>
<li><b> 0 </b> - plynové</li>
<li><b> 1 </b> - elektrické</li>
</ul>
<p></li>
<li><b> construction_type_id_fk </b> - ID typu konstrukce objektu</p>
<ul>
<li><b> 0 </b> - panelová</li>
<li><b> 1 </b> - cihlová</li>
</ul>
<p></li>
<li><b> floor_count </b> - počet pater objektu</li>
<li><b> pet </b> - možnost domácího zvířete v objektu</p>
<ul>
<li><b> 0 </b> - nesmí být</li>
<li><b> 1 </b> - může být</li>
</ul>
<p></li>
<li><b> smoker </b> - možnost kouření v objektu</p>
<ul>
<li><b> 0 </b> - nesmí se kouřit</li>
<li><b> 1 </b> - může se kouřit</li>
</ul>
<p></li>
<li><b> date_inserted </b> - datum vložení kampaně</li>
<li><b> address </b> - neformátovaná adresa objektu</li>
<li><b> country </b> - adresa - země</li>
<li><b> locality </b> - adresa lokalita (Praha, Brno)</li>
<li><b> neighborhood </b> - adresa - městská čtvrť (Dejvice, Vinohrady)</li>
<li><b> postal_code </b> - adresa - PSČ</li>
<li><b> postal_town </b> - adresa - městská část (Praha 6, Praha 2)</li>
<li><b> route </b> - adresa - ulice</li>
<li><b> street_number </b> - adresa - číslo domu</li>
<li><b> sublocality </b> - adresa - podoblast (Praha 6, Praha 2)</li>
<li><b> administrative_area_level_1 </b> - adresa - kraj</li>
<li><b> administrative_area_level_2 </b> - adresa - okres</li>
<li><b> premise </b> - adresa - orientační číslo</li>
<li><b> establishment </b> - adresa - upřesnění typu budovy</li>
<li><b> point_of_interest </b> - adresa - památka</li>
<li><b> lat </b> - adresa - zeměpisná šířka</li>
<li><b> lng </b> - adresa - zeměpisná délka</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line337" class="location">user_api.php at line 337</a>

<h3 id="getTmpRooms()">getTmpRooms</h3>
<code class="signature">public  void <strong>getTmpRooms</strong>()</code>
<div class="details">
<p>Function getTmpRooms</p><p>vrací JSON data místností, které uživatel naposledy nastavil v tvorbě nového objektu a nedokončil tvorbu.</p>
<ul>
<li><b> tmp_object_rooms_id_pk </b> - ID temp. místnosti uživatele</li>
<li><b> user_id_fk </b> - ID uživatele</li>
<li><b> room_id_fk </b> - ID typu místnosti</li>
<li><b> room_count </b> - počet místností tohoto typu</li>
<li><b> room_name </b> - název typu místnosti</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line356" class="location">user_api.php at line 356</a>

<h3 id="getTmpEquipment()">getTmpEquipment</h3>
<code class="signature">public  void <strong>getTmpEquipment</strong>()</code>
<div class="details">
<p>Function getTmpRooms</p><p>vrací JSON data vybavení, které uživatel naposledy nastavil v tvorbě nového objektu a nedokončil tvorbu.</p>
<ul>
<li><b> tmp_object_equipment_id_pk </b> - ID temp. vybavení objektu</li>
<li><b> user_id_fk </b> - ID uživatele</li>
<li><b> equipment_id_fk </b> - ID typu vybavení objektu</li>
<li><b> equipment_name </b> - název typu vybavení</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line375" class="location">user_api.php at line 375</a>

<h3 id="getRoomTypes()">getRoomTypes</h3>
<code class="signature">public  void <strong>getRoomTypes</strong>()</code>
<div class="details">
<p>Function getRoomTypes</p><p>vrací JSON typy místností</p>
<ul>
<li><b> room_id_pk </b> - ID typu místnosti</li>
<li><b> room_name </b> - název místnosti</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line390" class="location">user_api.php at line 390</a>

<h3 id="getHeatType()">getHeatType</h3>
<code class="signature">public  void <strong>getHeatType</strong>()</code>
<div class="details">
<p>Function getHeatType</p>
<ul>
<li><b> room_id_pk </b> - ID typu topení</li>
<li><b> room_name </b> - název topení</li>
</ul>
<p>vrací JSON typy topení.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line405" class="location">user_api.php at line 405</a>

<h3 id="getConstructionType()">getConstructionType</h3>
<code class="signature">public  void <strong>getConstructionType</strong>()</code>
<div class="details">
<p>Function getConstructionType</p>
<ul>
<li><b> room_id_pk </b> - ID typu konstrukce</li>
<li><b> room_name </b> - název konstrukce</li>
</ul>
<p>vrací JSON typy konstrukcí objektů.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line420" class="location">user_api.php at line 420</a>

<h3 id="getEquipment()">getEquipment</h3>
<code class="signature">public  void <strong>getEquipment</strong>()</code>
<div class="details">
<p>Function getEquipment</p>
<ul>
<li><b> room_id_pk </b> - ID typu vybavení</li>
<li><b> room_name </b> - název vybavení</li>
</ul>
<p>vrací JSON typy vybavení místností</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line438" class="location">user_api.php at line 438</a>

<h3 id="getFormattedFilter()">getFormattedFilter</h3>
<code class="signature">public  void <strong>getFormattedFilter</strong>()</code>
<div class="details">
<p>Function getFormattedFilter</p><p>vrací JSON filtr uživatele pouze s hodnotami</p>
<ul>
<li><b> address </b>- adresa filtru</li>
<li><b> price_from </b>- cena od</li>
<li><b> price_to </b>- cena do</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line460" class="location">user_api.php at line 460</a>

<h3 id="getFilter()">getFilter</h3>
<code class="signature">public  void <strong>getFilter</strong>()</code>
<div class="details">
<p>Function getFilter</p><p>vrací JSON kompletní filtr uživatele</p>
<ul>
<li><b> address </b>- adresa filtru</li>
<li><b>  country </b>- země</li>
<li><b> locality </b>- město (Praha, Hradec Králové, apod)</li>
<li><b> sublocality </b>- užší lokalita, městská čtvrť (Praha 6, apod)</li>
<li><b> postal_code </b>- PSČ</li>
<li><b> route </b>- ulice</li>
<li><b> price_from </b>- cena od</li>
<li><b> price_to </b>- cena do</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line506" class="location">user_api.php at line 506</a>

<h3 id="getObjects()">getObjects</h3>
<code class="signature">public  void <strong>getObjects</strong>()</code>
<div class="details">
<p>Function getObjects</p><p>vrací JSON všechny objekty v databázy (byty, domy)</p>
<ul>
<li><b> object_id_pk </b>- ID objektu</li>
<li><b>  location_id_fk </b>- ID lokality</li>
<li><b> floor </b>- patro ve kterém se objekt případně nachází</li>
<li><b> floor_area </b>- rozloha objektu v metrech čtverečných</li>
<li><b> reconstruction_date </b>- datum rekonstrukce</li>
<li><b> heat_type_id_fk </b> - ID typu topení
</p>
<ul>
<li><b> 0 </b> - plynové</li>
<li><b> 1 </b> - elektrické</li>
</ul>
<p></li>
<li><b> construction_type_id_fk </b> - ID typu konstrukce objektu</p>
<ul>
<li><b> 0 </b> - panelová</li>
<li><b> 1 </b> - cihlová</li>
</ul>
<p></li>
<li><b> floor_count </b> - počet pater objektu</li>
<li><b> pet </b> - možnost domácího zvířete v objektu</p>
<ul>
<li><b> 0 </b> - nesmí být</li>
<li><b> 1 </b> - může být</li>
</ul>
<p></li>
<li><b> smoker </b> - možnost kouření v objektu</p>
<ul>
<li><b> 0 </b> - nesmí se kouřit</li>
<li><b> 1 </b> - může se kouřit</li>
</ul>
<p></li>
<li><b> date_inserted </b>- datum vložení objektu do databáze</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line579" class="location">user_api.php at line 579</a>

<h3 id="getFilteredAds()">getFilteredAds</h3>
<code class="signature">public  void <strong>getFilteredAds</strong>()</code>
<div class="details">
<p>Function getFilteredAds</p><p>vrací JSON všechny kampaně, které odpovídají uživatelově filtru</p>
<ul>
<li><b> ad_id_pk </b> - ID kampaně</li>
<li><b> user_id_fk </b> - ID uživatele, který kampaň vytvořil</li>
<li><b> object_id_fk </b> - ID objektu, na který je kampaň vytvořena</li>
<li><b> ad_title </b> - textovýtitulek kampaně</li>
<li><b> ad_body </b> - textový popis kampaně</li>
<li><b> ad_price </b> - cena kampaně</li>
<li><b> active </b> - aktivní či neaktivní kampaň
</p>
<ul>
<li><b> 0 </b> - neaktivní</li>
<li><b> 1 </b> - aktivní</li>
</ul>
<p></li>
<li><b> rel_type_id_fk </b> -</li>
<li><b> location_id_fk </b> - ID lokace objektu, na který je kampaň vytvořena</li>
<li><b> floor </b> - patro, ve které se nachází objekt, na který je kampaň umístěna</li>
<li><b> floor_area </b> - rozloha objektu</li>
<li><b> reconstruction_date</b> - datum rekonstrukce objektu</li>
<li><b> heat_type_id_fk </b> - ID typu topení</p>
<ul>
<li><b> 0 </b> - plynové</li>
<li><b> 1 </b> - elektrické</li>
</ul>
<p></li>
<li><b> construction_type_id_fk </b> - ID typu konstrukce objektu</p>
<ul>
<li><b> 0 </b> - panelová</li>
<li><b> 1 </b> - cihlová</li>
</ul>
<p></li>
<li><b> floor_count </b> - počet pater objektu</li>
<li><b> pet </b> - možnost domácího zvířete v objektu</p>
<ul>
<li><b> 0 </b> - nesmí být</li>
<li><b> 1 </b> - může být</li>
</ul>
<p></li>
<li><b> smoker </b> - možnost kouření v objektu</p>
<ul>
<li><b> 0 </b> - nesmí se kouřit</li>
<li><b> 1 </b> - může se kouřit</li>
</ul>
<p></li>
<li><b> date_inserted </b> - datum vložení kampaně</li>
<li><b> address </b> - neformátovaná adresa objektu</li>
<li><b> country </b> - adresa - země</li>
<li><b> locality </b> - adresa lokalita (Praha, Brno)</li>
<li><b> neighborhood </b> - adresa - městská čtvrť (Dejvice, Vinohrady)</li>
<li><b> postal_code </b> - adresa - PSČ</li>
<li><b> postal_town </b> - adresa - městská část (Praha 6, Praha 2)</li>
<li><b> route </b> - adresa - ulice</li>
<li><b> street_number </b> - adresa - číslo domu</li>
<li><b> sublocality </b> - adresa - podoblast (Praha 6, Praha 2)</li>
<li><b> administrative_area_level_1 </b> - adresa - kraj</li>
<li><b> administrative_area_level_2 </b> - adresa - okres</li>
<li><b> premise </b> - adresa - orientační číslo</li>
<li><b> establishment </b> - adresa - upřesnění typu budovy</li>
<li><b> point_of_interest </b> - adresa - památka</li>
<li><b> lat </b> - adresa - zeměpisná šířka</li>
<li><b> lng </b> - adresa - zeměpisná délka</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line625" class="location">user_api.php at line 625</a>

<h3 id="getUserObjects()">getUserObjects</h3>
<code class="signature">public  void <strong>getUserObjects</strong>()</code>
<div class="details">
<p>Function getUserObjects</p><p>vrací JSON všechny objekty, které patří uživateli.
Ke každému objektu vrací seznam kampaní, které na daném objektu jsou.
Ke každé kampani vrací počet uživatelů, kteří ji sledují</p><p><li><b> object_id_pk </b> - ID objektu</li>
<li><b> address </b> - neformátovaná adresa objektu</li>
<li><b> country </b> - adresa - země</li>
<li><b> locality </b> - adresa lokalita (Praha, Brno)</li>
<li><b> neighborhood </b> - adresa - městská čtvrť (Dejvice, Vinohrady)</li>
<li><b> postal_code </b> - adresa - PSČ</li>
<li><b> postal_town </b> - adresa - městská část (Praha 6, Praha 2)</li>
<li><b> route </b> - adresa - ulice</li>
<li><b> street_number </b> - adresa - číslo domu</li>
<li><b> sublocality </b> - adresa - podoblast (Praha 6, Praha 2)</li>
<li><b> administrative_area_level_1 </b> - adresa - kraj</li>
<li><b> administrative_area_level_2 </b> - adresa - okres</li>
<li><b> premise </b> - adresa - orientační číslo</li>
<li><b> establishment </b> - adresa - upřesnění typu budovy</li>
<li><b> point_of_interest </b> - adresa - památka</li>
<li><b> lat </b> - adresa - zeměpisná šířka</li>
<li><b> lng </b> - adresa - zeměpisná délka</li>
<li><b> ad </b> - seznam kampaní nad daným objektem</li>
</p>
<ul>
<li><b> ad_id_pk </b> - id kampaně</li>
<li><b> ad_price </b> - cena kampaně</li>
<li><b> active </b> - aktivní či neaktivní kampaň
</p>
<ul>
<li><b> 0 </b> - neaktivní</li>
<li><b> 1 </b> - aktivní</li>
</ul>
<p><li><b> ad_title </b> - textový titulek kampaně</li>
<li><b> ad_followers </b> - počet lidí, sledujících danou kampaň</li>
</ul>
<p></li>
</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line637" class="location">user_api.php at line 637</a>

<h3 id="logout()">logout</h3>
<code class="signature">public  void <strong>logout</strong>()</code>
<div class="details">
<p>Function logout</p><p>odhlásí uživatele zrušením aktuální session.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line655" class="location">user_api.php at line 655</a>

<h3 id="login()">login</h3>
<code class="signature">public  void <strong>login</strong>()</code>
<div class="details">
<p>Function login</p><p>Přihlásí uživatele, vytvořením nové session s jeho údaji.</p>
<ul>
<li><b> logged_in <b>- údaj, že uživatel je přihlášen</li>
<li><b> email <b>- uživatelův email</li>
<li><b> firstname <b>- křestní jméno uživatele</li>
<li><b> lastname <b>- příjmení uživatele</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line676" class="location">user_api.php at line 676</a>

<h3 id="setFilter()">setFilter</h3>
<code class="signature">public  void <strong>setFilter</strong>()</code>
<div class="details">
<p>Function setFilter</p><p>Nastaví nový filtr uživatele na základě přijatých POST parametrů</p>
<ul>
<li>POST<b> filter_area </b>- adresa</li>
<li>POST<b> filter_price_from </b>- cena od</li>
<li>POST<b> filter_price_to </b>- cena do</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line692" class="location">user_api.php at line 692</a>

<h3 id="follow()">follow</h3>
<code class="signature">public  void <strong>follow</strong>((int) (adId), mixed adId)</code>
<div class="details">
<p>Function follow</p><p>Aktuálnímu uživateli umístí danou kampaň do jeho sledovaných kampaní.</p><dl>
<dt>Parameters:</dt>
<dd>(adId) - ID kampaně určené ke sledování</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line704" class="location">user_api.php at line 704</a>

<h3 id="unfollow()">unfollow</h3>
<code class="signature">public  void <strong>unfollow</strong>((int) (adId), mixed adId)</code>
<div class="details">
<p>Function unfollow</p><p>Aktuálnímu uživateli odebere danou kampaň z jeho sledovaných kampaní.</p><dl>
<dt>Parameters:</dt>
<dd>(adId) - ID kampaně určené k odstranění ze sledovaných kampaní</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line744" class="location">user_api.php at line 744</a>

<h3 id="saveObject()">saveObject</h3>
<code class="signature">public  void <strong>saveObject</strong>()</code>
<div class="details">
<p>Function saveObject</p><p>Vytvoření nového objektu (dům, byt) ze zadaných GET parametrů</p>
<ul>
<li>GET<b> object_address </b>- JSON adresy objektu (google formát adresy)</li>
<li>GET<b> object_equipment </b>- JSON vybavení objektu</li>
<li>GET<b> object_floor </b>- podlaží objektu (dům, byt)</li>
<li>GET<b> object_rooms </b>- JSON počet a typů místností</li>
<li>GET<b> object_reconstruction_date </b>- DATUM rekonstrukce bytu</li>
<li>GET<b> object_floor_count </b>- počet pater objektu (dům, byt)</li>
<li>GET<b> object_pet </b>- je povoleno domácí zvíře</li>
<li>GET<b> object_smoker </b>- je v objektu povoleno kouřit</li>
</ul>
<p>při vytvoření objektu bere metoda v úvahu $_FILES globální proměnnou. Slouží ke vložení fotek k objektu.</p><p>Metoda vrátí JSON pole vytvořených místností.</p><p><h4>Formát JSON výstupu</h4></p>
<ul>
<li><b>room_type</b> - ID typu místnosti</li>
<li><b>room_number</b> - počet vložených místností tohoto typu (číslováno od 0)</li>
<li><b>room_object_id</b> - ID vložené místnosti</li>
</ul>
<p></p>
<ul>
<li><b>object_id</b> - ID vloženého objektu</li>
</ul>
<p><h4>Příklad výstupu</h4>
{"0":{"room_type":1,"room_number":1,"room_object_id":410},"1":{"room_type":3,"room_number":0,"room_object_id":411},"object_id":412},"object_id":140}</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line785" class="location">user_api.php at line 785</a>

<h3 id="editObject()">editObject</h3>
<code class="signature">public  void <strong>editObject</strong>(mixed objectId)</code>
<div class="details">
<p>Function editObject</p><p>Editace existujícího objektu (dům, byt) podle zadaných GET parametrů</p>
<ul>
<li>GET<b> object_equipment </b>- JSON vybavení objektu</li>
<li>GET<b> object_floor </b>- podlaží objektu (dům, byt)</li>
<li>GET<b> object_rooms </b>- JSON počet a typů místností</li>
<li>GET<b> object_reconstruction_date </b>- DATUM rekonstrukce bytu</li>
<li>GET<b> object_floor_count </b>- počet pater objektu (dům, byt)</li>
<li>GET<b> object_pet </b>- je povoleno domácí zvíře</li>
<li>GET<b> object_smoker </b>- je v objektu povoleno kouřit</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line814" class="location">user_api.php at line 814</a>

<h3 id="saveTmpRooms()">saveTmpRooms</h3>
<code class="signature">public  void <strong>saveTmpRooms</strong>()</code>
<div class="details">
<p>Function saveTmpRooms</p><p>Uloží dočasné počty a typy místností na základě POST parametru</p>
<ul>
<li> POST JSON <b>tmpRooms </b>- typy místností a jejich počty</li>
</ul>
<p>Slouží při práci s formulářem k ukládání uživatelových dočasných dat (místností), před úplným uložením vytvářeného nebo editovaného objektu.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line831" class="location">user_api.php at line 831</a>

<h3 id="saveTmpEquipment()">saveTmpEquipment</h3>
<code class="signature">public  void <strong>saveTmpEquipment</strong>()</code>
<div class="details">
<p>Function saveTmpEquipment</p><p>Uloží vybavení objektu v průběhu vytváření nového objektu na základě POST parametru</p>
<ul>
<li> POST JSON <b>tmpEquipment </b>- typy místností a jejich počty</li>
</ul>
<p>Slouží při práci s formulářem k ukládání uživatelových dočasných dat (vybavení), před úplným uložením vytvářeného nebo editovaného objektu.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line849" class="location">user_api.php at line 849</a>

<h3 id="removeTmpRoom()">removeTmpRoom</h3>
<code class="signature">public  void <strong>removeTmpRoom</strong>()</code>
<div class="details">
<p>Function removeTmpRoom</p><p>Odstraní dočasný počet a typ dané místnosti na základě GET parametru</p>
<ul>
<li>GET <b> roomId </b>- ID typu místnosti, který se má odstranit z uživatelova dočasného výběru</li>
</ul>
<p>Slouží při práci s formulářem k editaci uživatelových dočasných dat, před úplným uložením vytvářeného nebo editovaného objektu.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line865" class="location">user_api.php at line 865</a>

<h3 id="clearTmpRooms()">clearTmpRooms</h3>
<code class="signature">public  void <strong>clearTmpRooms</strong>()</code>
<div class="details">
<p>Function clearTmpRoom</p><p>Odstraní dočasný počet a typ všech místností momentálně přihlášeného uživatele.</p><p>Slouží při práci s formulářem k editaci uživatelových dočasných dat, před úplným uložením vytvářeného nebo editovaného objektu.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line879" class="location">user_api.php at line 879</a>

<h3 id="clearTmpEquipment()">clearTmpEquipment</h3>
<code class="signature">public  void <strong>clearTmpEquipment</strong>()</code>
<div class="details">
<p>Function clearTmpRoom</p><p>Odstraní dočasné vybavení tvořeného objektu momentálně přihlášeného uživatele.</p><p>Slouží při práci s formulářem k editaci uživatelových dočasných dat, před úplným uložením vytvářeného nebo editovaného objektu.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line896" class="location">user_api.php at line 896</a>

<h3 id="removeTmpEquipment()">removeTmpEquipment</h3>
<code class="signature">public  void <strong>removeTmpEquipment</strong>()</code>
<div class="details">
<p>Function removeTmpEquipment</p><p>Odstraní dočasný počet a typ dané místnosti na základě GET parametru</p>
<ul>
<li>GET <b> roomId </b>- ID typu místnosti, který se má odstranit z uživatelova dočasného výběru</li>
</ul>
<p>Slouží při práci s formulářem k editaci uživatelových dočasných dat, před úplným uložením vytvářeného nebo editovaného objektu.</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line916" class="location">user_api.php at line 916</a>

<h3 id="pairUserObject()">pairUserObject</h3>
<code class="signature">public  void <strong>pairUserObject</strong>()</code>
<div class="details">
<p>Function pairUserObject</p><p>Spáruje uživatele s již existujícím bytem na základě POST parametrů.</p>
<ul>
<li> POST <b> objectId </b>- ID objektu určeného ke spárování</li>
<li> POST <b>lat </b>- latitude dnaného objektu</li>
<li> POST <b>lng </b>- longitude dnaného objektu</li>
<li> POST <b>inputFloor </b>- patro daného objektu</li>
</ul>
<p>parametry slouží k ověření, že uživatel skutečně objekt zná a že se nejedná o falešné propojení</p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line937" class="location">user_api.php at line 937</a>

<h3 id="sendMessage()">sendMessage</h3>
<code class="signature">public  void <strong>sendMessage</strong>()</code>
<div class="details">
<p>Function sendMessage</p><p>aktuální uživatel odešle zprávu cílovému uživateli na základě POST parametrů.</p>
<ul>
<li> POST <b> target_user </b>- ID cílového uživatele</li>
<li> POST <b> message </b>- zpráva, kterou aktuální uživatel chce odeslat</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line958" class="location">user_api.php at line 958</a>

<h3 id="setMessageStatus()">setMessageStatus</h3>
<code class="signature">public  void <strong>setMessageStatus</strong>()</code>
<div class="details">
<p>Function setMessageStatus</p><p>Nastaví status konverzace na základě GET parametrů</p>
<ul>
<li>GET <b> conversation_id </b>- ID konverzace, které se má status nastavit</li>
<li>GET <b> status </b> - status zprávy (0,1)</li>
<li>0 - přečtená</li>
<li>1 - nepřečtená</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line973" class="location">user_api.php at line 973</a>

<h3 id="unlinkObject()">unlinkObject</h3>
<code class="signature">public  void <strong>unlinkObject</strong>((int) (objectId), mixed objectId)</code>
<div class="details">
<p>Function unlinkObject</p><p>Aktuálnímu uzivateli smaže propojení s daným objektem (byt, dům).</p><dl>
<dt>Parameters:</dt>
<dd>(objectId) - ID objektu</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line989" class="location">user_api.php at line 989</a>

<h3 id="saveGallery()">saveGallery</h3>
<code class="signature">public  void <strong>saveGallery</strong>()</code>
<div class="details">
<p>Function saveGallery</p><p>Uloží záznam o nové galerii do databáze na základě GET parametru a vrrátí ID galerie.</p>
<ul>
<li>GET <b> object_id </b>- ID objektu</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line1009" class="location">user_api.php at line 1009</a>

<h3 id="saveRoomPhoto()">saveRoomPhoto</h3>
<code class="signature">public  void <strong>saveRoomPhoto</strong>()</code>
<div class="details">
<p>Function saveRoomPhoto</p><p>Uloží záznam o nové galerii do databáze na základě GET parametru a vrrátí ID galerie.</p>
<ul>
<li>GET <b> photo_number </b>- číslo fotky</li>
<li>GET <b> object_room_id </b>- ID místnosti připojené k objektu</li>
<li>GET <b> gallery_id </b>- ID galerie připojené k objektu</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line1029" class="location">user_api.php at line 1029</a>

<h3 id="setFrontPhoto()">setFrontPhoto</h3>
<code class="signature">public  void <strong>setFrontPhoto</strong>()</code>
<div class="details">
<p>Function setFrontPhoto</p><p>Nastaví úvodní fotografii galerie na základě GET parametrů.</p>
<ul>
<li>GET <b> gallery_id </b>- ID galerie připojené k objektu</li>
<li>GET <b> photo_id </b>- ID fotografie, kterou chceme mít jako úvodní</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line1053" class="location">user_api.php at line 1053</a>

<h3 id="getObjectGallery()">getObjectGallery</h3>
<code class="signature">public  void <strong>getObjectGallery</strong>((int) (galleryId), mixed galleryId)</code>
<div class="details">
<p>Function getObjectGallery</p><p>Vrátí JSON data o galerii k objektu na základě vsupního parametru</p><p><Formát výstupu></p>
<ul>
<li><b> gallery_id_pk </b>- ID galerie</li>
<li><b> front_photo_id_fk </b>- číslo fotografie, která je zvolená za úvodní ke galerii</li>
<li><b> object_id_fk </b>- ID objektu, ke kterému galerie patří</li>
<li><b> time_inserted </b>- DATETIME vytvoření galerie</li>
</ul>
<p></p><dl>
<dt>Parameters:</dt>
<dd>(galleryId) - ID galerie</dd>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<a href="../source/user_api.php.html#line1078" class="location">user_api.php at line 1078</a>

<h3 id="getRoomPhotos()">getRoomPhotos</h3>
<code class="signature">public  void <strong>getRoomPhotos</strong>()</code>
<div class="details">
<p>Function getRoomPhotos</p><p>Vrátí JSON seznam fotografií patřících v objektu k dané místnosti uvedené v GET parametru.</p>
<ul>
<li>GET <b> object_room_id </b>- ID galerie připojené k objektu</li>
</ul>
<p><Formát výstupu></p>
<ul>
<li><b> photo_id_pk </b>- ID fotografie</li>
<li><b> gallery_id_fk </b>- ID galerie</li>
<li><b> path </b>- číslo fotografie v adresáři</li>
<li><b> object_room_id_fk </b>- ID místnosti</li>
</ul>
<p></p><dl>
<dt>Author:</dt>
<dd>Bc.Adam Mrázek - mrazek.adam@gmail.com</dd>
</dl>
</div>

<hr>

<div class="header">
<h1>Unknown</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../api/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../api/package-tree.html">Tree</a></li>
<li><a href="../overview-files.html">Files</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../todo-list.html">Todo</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../api\user_api.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>